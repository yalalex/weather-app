(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a.p+"static/media/spinner.706c7930.gif"},36:function(e,t,a){e.exports=a(72)},64:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(31),l=a.n(r),i=a(5),s=a.n(i),u=a(10),o=a(1),m=a(8),d=a(9),p=function(e){var t=e.units,a=e.lang,n=e.switchLang,r=e.switchUnits;return c.a.createElement("nav",{className:"navbar bg-primary"},c.a.createElement("h1",null,c.a.createElement("i",{className:"fas fa-cloud-sun-rain"})," Weather app"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(m.b,{to:"/weather-app"},"en"===a?"Search":"\u041f\u043e\u0438\u0441\u043a")),c.a.createElement("li",null,c.a.createElement(m.b,{to:"/weather-app/about"},"en"===a?"About":"\u0418\u043d\u0444\u043e")),c.a.createElement("li",null,c.a.createElement("div",{className:"switch"},c.a.createElement("div",{className:"select"},"metric"===t?"\xb0C":"\xb0F",c.a.createElement("i",{className:"fa fa-angle-down"})),c.a.createElement("ul",{className:"select-drop"},c.a.createElement("li",{onClick:r},"metric"===t?"\xb0F":"\xb0C")))),c.a.createElement("li",null,c.a.createElement("div",{className:"switch"},c.a.createElement("div",{className:"select"},"en"===a?"EN":"RU",c.a.createElement("i",{className:"fa fa-angle-down"})),c.a.createElement("ul",{className:"select-drop"},c.a.createElement("li",{onClick:n},"en"===a?"RU":"EN"))))))},h=function(e){var t=e.alert;return null!==t&&c.a.createElement("div",{className:"alert alert-".concat(t.type," text-center")},c.a.createElement("i",{className:"fas fa-info-circle"})," ",t.msg)},f=function(e){var t=e.searchPlaces,a=e.clearSearch,r=e.setAlert,l=e.showClear,i=e.lang,s=e.history,u=Object(n.useState)(""),m=Object(o.a)(u,2),d=m[0],p=m[1];return c.a.createElement("div",null,c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""===d?r("en"===i?"Please enter something":"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0442\u043e-\u043d\u0438\u0431\u0443\u0434\u044c","dark"):(t(d),p(""),s.push("/weather-app"))},className:"form"},c.a.createElement("input",{type:"text",name:"text",value:d,placeholder:"en"===i?"Enter City Name...":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430 \u043d\u0430 \u0440\u0443\u0441\u0441\u043a\u043e\u043c \u044f\u0437\u044b\u043a\u0435...",onChange:function(e){return p(e.target.value)}}),c.a.createElement("input",{type:"submit",value:"en"===i?"Search":"\u041f\u043e\u0438\u0441\u043a",className:"btn btn-dark btn-block"})),l&&c.a.createElement("button",{className:"btn btn-grey btn-block",onClick:a},"en"===i?"Clear":"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c"))},E=a(11),g=a.n(E),b=function(e){var t=e.period,a=e.offset,n=e.lang,r=t.dt,l=t.main,i=t.weather,s=r+a;return c.a.createElement("div",{className:"card text-center"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("h3",null,c.a.createElement(g.a,{locale:n,unix:!0,format:"ddd LT"},s))),c.a.createElement("li",null,c.a.createElement("img",{alt:i[0].description,src:"https://openweathermap.org/img/wn/".concat(i[0].icon,"@2x.png"),style:{width:"100px"}})),c.a.createElement("li",null,c.a.createElement("h1",null,l.temp.toFixed(),"\xb0"))))},w=function(e){var t=e.day,a=e.lang,n=t.ts,r=t.max_temp,l=t.min_temp,i=t.wind_spd,s=t.pop,u=t.pres,o=t.rh,m=t.weather;return c.a.createElement("div",{className:"card text-center"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("h3",null,c.a.createElement(g.a,{locale:a,unix:!0,format:"ddd Do"},n))),c.a.createElement("li",null,c.a.createElement("img",{alt:m.description,src:"https://www.weatherbit.io/static/img/icons/".concat(m.icon,".png"),style:{width:"70px"}})),c.a.createElement("li",null,c.a.createElement("h2",null,r.toFixed(),"\xb0/",l.toFixed(),"\xb0")),c.a.createElement("li",null,"en"===a?"Precipitation: ":"\u041e\u0441\u0430\u0434\u043a\u0438: ",s,"%"),c.a.createElement("li",null,"en"===a?"Humidity: ":"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c: ",o,"%"),c.a.createElement("li",null,"en"===a?"Wind: ":"\u0412\u0435\u0442\u0435\u0440: ",i.toFixed(1)," ","en"===a?"m/s":"\u043c/\u0441"),c.a.createElement("li",null,"en"===a?"Pressure: ":"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435: ",u.toFixed()," ","en"===a?"mbar":"\u043c\u0431\u0430\u0440")))},y=a(34),v=a.n(y),x=function(){return c.a.createElement(n.Fragment,null,c.a.createElement("img",{src:v.a,alt:"Loading...",style:{width:"64px",margin:"auto",display:"block"}}))},j=function(e){var t=e.current,a=e.forecastToday,r=e.forecast16,l=e.getWeather,i=e.loading,s=e.units,u=e.lang,p=Object(n.useState)(""),h=Object(o.a)(p,2),f=h[0],E=h[1],y=Object(n.useState)(""),v=Object(o.a)(y,2),j=v[0],O=v[1];Object(n.useEffect)(function(){"en"===u?(E("16-day forecast"),O("16-day")):(E("\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 16 \u0434\u043d\u0435\u0439"),O("16-day"))},[]),Object(n.useEffect)(function(){N()},[u,j]),Object(n.useEffect)(function(){l()},[s]);var N=function(){E("16-day"===j?"en"===u?"16-day forecast":"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 16 \u0434\u043d\u0435\u0439":"en"===u?"30-hr forecast":"\u041f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 30 \u0447\u0430\u0441\u043e\u0432")},k=t.name,S=t.timezone,P=t.dt,C=t.weather,F=t.sky,A=t.wind,D=t.temp,T=t.pressure,I=t.humidity,L=t.icon,W=60*(new Date).getTimezoneOffset()+S,q=P+W;return 0===a.length?null:i?c.a.createElement(x,null):c.a.createElement(m.a,null,c.a.createElement(n.Fragment,null,c.a.createElement("div",{className:"card grid-2"},c.a.createElement("div",{className:"card grid-2",style:{padding:"0"}},c.a.createElement("div",{className:"all-center"},c.a.createElement("img",{alt:F,src:"https://openweathermap.org/img/wn/".concat(L,"@2x.png"),style:{width:"150px"}})),c.a.createElement("div",{style:{margin:"auto 0"}},c.a.createElement("h1",null,D,"\xb0"),c.a.createElement("h2",null,k),c.a.createElement("h3",null,c.a.createElement(g.a,{locale:u,unix:!0,format:"LT"},q)))),c.a.createElement("div",{style:{padding:"0.7rem 0"}},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("h3",null,"en"===u?C:"\u0422\u0435\u043a\u0443\u0449\u0438\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f:")),c.a.createElement("li",null,"en"===u?"Humidity: ":"\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c: ",I,"%"),c.a.createElement("li",null,"en"===u?"Wind: ":"\u0412\u0435\u0442\u0435\u0440: ",A.toFixed(1)," ","en"===u?"m/s":"\u043c/\u0441"),c.a.createElement("li",null,"en"===u?"Pressure: ":"\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435: ",T.toFixed()," ","en"===u?"mbar":"\u043c\u0431\u0430\u0440")),c.a.createElement(m.b,{to:"/weather-app/".concat(j,"/").concat(k),className:"btn btn-dark btn-sm my-1",onClick:function(){return function(e){O("16-day"===e?"current":"16-day")}(j)}},f))),c.a.createElement(d.c,null,c.a.createElement(d.a,{exact:!0,path:"/weather-app/current/:name",render:function(e){return c.a.createElement("div",{className:"grid-5"},a.map(function(e){return c.a.createElement(b,{key:e.dt,period:e,offset:W,lang:u})}))}}),c.a.createElement(d.a,{exact:!0,path:"/weather-app/16-day/:name",render:function(e){return c.a.createElement("div",{className:"grid-4"},r.map(function(e){return c.a.createElement(w,{key:e.ts,day:e,lang:u})}))}}))))},O=a(13),N=a.n(O),k=function(e){var t=e.selectPlace,a=e.place,r=e.lang,l=e.units,i=Object(n.useState)(""),d=Object(o.a)(i,2),p=d[0],h=d[1],f=Object(n.useState)(""),E=Object(o.a)(f,2),g=E[0],b=E[1],w=Object(n.useState)(""),y=Object(o.a)(w,2),v=y[0],x=y[1];Object(n.useEffect)(function(){j()},[l]);var j=function(){var e=Object(u.a)(s.a.mark(function e(){var t,n,c,r,i,u;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.latitude,n=a.longitude,e.next=3,N.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(t,"&lon=").concat(n,"&units=").concat(l,"&APPID=").concat("9dc5f93120e9ec0a6c67c21372c9f72b"));case 3:c=e.sent,r=c.data,i=r.main,u=r.weather,h(i.temp.toFixed()),b(u[0].description),x(u[0].icon);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),O=a.city,k=a.regionCode,S=a.country;return c.a.createElement("div",{className:"card text-center"},c.a.createElement("h1",null,p,"\xb0"),c.a.createElement("img",{alt:g,src:"https://openweathermap.org/img/wn/".concat(v,"@2x.png"),style:{width:"100px"}}),c.a.createElement("h3",null,O,", ",k),c.a.createElement("h4",null,S),c.a.createElement("div",null,c.a.createElement(m.b,{to:"/weather-app/current/".concat(O),className:"btn btn-dark btn-sm my-1",onClick:function(){return t(a)}},"en"===r?"Select":"\u0412\u044b\u0431\u0440\u0430\u0442\u044c")))},S=function(e){var t=e.places,a=e.selectPlace,n=e.loading,r=e.lang,l=e.units;return n?c.a.createElement(x,null):c.a.createElement("div",{className:"grid-4"},t.map(function(e){return c.a.createElement(k,{key:e.id,place:e,selectPlace:a,units:l,lang:r})}))},P=function(e){return"en"===e.lang?c.a.createElement(n.Fragment,null,c.a.createElement("h2",null,"About this app"),c.a.createElement("p",null,"An application for finding weather in more than 134,000 cities in the world."),c.a.createElement("p",null,"Provides information on current weather, as well as a detailed forecast for the next 30 hours and a forecast for 16 days."),c.a.createElement("p",null,"Made by ",c.a.createElement("a",{href:"https://github.com/yalalex/"},"Alex Y"),".")):c.a.createElement(n.Fragment,null,c.a.createElement("h2",null,"\u041e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0438"),c.a.createElement("p",null,"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e\u0433\u043e\u0434\u044b \u0432 \u0431\u043e\u043b\u0435\u0435 \u0447\u0435\u043c 134 000 \u0433\u043e\u0440\u043e\u0434\u0430\u0445 \u043c\u0438\u0440\u0430."),c.a.createElement("p",null,"\u041f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043f\u043e \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043f\u043e\u0433\u043e\u0434\u0435, \u0430 \u0442\u0430\u043a \u0436\u0435 \u043f\u043e\u0434\u0440\u043e\u0431\u043d\u044b\u0439 \u043f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0438\u0435 30 \u0447\u0430\u0441\u043e\u0432 \u0438 \u043f\u0440\u043e\u0433\u043d\u043e\u0437 \u043d\u0430 16 \u0434\u043d\u0435\u0439."),c.a.createElement("p",null,"\u0421\u0434\u0435\u043b\u0430\u043b ",c.a.createElement("a",{href:"https://github.com/yalalex/"},"Alex Y"),"."))},C=(a(64),a(35)),F=a.n(C),A=function(){var e=Object(n.useState)("metric"),t=Object(o.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)("en"),i=Object(o.a)(l,2),E=i[0],g=i[1],b=Object(n.useState)(!1),w=Object(o.a)(b,2),y=w[0],v=w[1],x=Object(n.useState)(null),O=Object(o.a)(x,2),k=O[0],C=O[1],A=Object(n.useState)([]),D=Object(o.a)(A,2),T=D[0],I=D[1],L=Object(n.useState)(null),W=Object(o.a)(L,2),q=W[0],z=W[1],U=Object(n.useState)({}),_=Object(o.a)(U,2),H=_[0],J=_[1],M=Object(n.useState)([]),R=Object(o.a)(M,2),Y=R[0],B=R[1],G=Object(n.useState)([]),K=Object(o.a)(G,2),Q=K[0],V=K[1],X=function(){var e=Object(u.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v(!0),F.a.get("https://wft-geo-db.p.rapidapi.com/v1/geo/cities").query({limit:"10"}).query({namePrefix:t}).query({sort:"-population"}).query({languageCode:E}).set("x-rapidapi-host","wft-geo-db.p.rapidapi.com").set("x-rapidapi-key","d18fb22e26msh6173b50175c5c28p16d77ejsnc0cd70881577").set("Accept","application/json").then(function(e){0===e.body.data.length?($("en"===E?"No cities found. Check the spelling and try again":"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e. \u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0438 \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0441\u043d\u043e\u0432\u0430","dark"),v(!1)):(I(e.body.data),v(!1))}).catch(function(e){console.log(e)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Z=function(){I([]),v(!1)},$=function(e,t){C({msg:e,type:t}),setTimeout(function(){return C(null)},3e3)},ee=function(){var e=Object(u.a)(s.a.mark(function e(t){var a,n,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.city,n=t.latitude,c=t.longitude,z({city:a,latitude:n,longitude:c});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),te=function(){var e=Object(u.a)(s.a.mark(function e(){var t,n,c,r,l,i,o,m,d,p,h,f,E,g,b,w,y,x,j,O;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),t=q.city,n=q.latitude,c=q.longitude,e.next=4,N.a.get("https://api.openweathermap.org/data/2.5/weather?lat=".concat(n,"&lon=").concat(c,"&units=").concat(a,"&APPID=").concat("9dc5f93120e9ec0a6c67c21372c9f72b"));case 4:return r=e.sent,l=r.data,i=l.timezone,o=l.dt,m=l.main,d=l.wind,p=l.weather,h=l.sys,f=m.temp,E=m.pressure,g=m.humidity,b=h.sunrise,w=h.sunset,J({name:t,timezone:i,dt:o,temp:f.toFixed(),wind:d.speed,pressure:E,humidity:g,weather:p[0].main,sky:p[0].description,icon:p[0].icon,sunrise:b,sunset:w}),e.next=9,N.a.get("https://api.openweathermap.org/data/2.5/forecast?lat=".concat(n,"&lon=").concat(c,"&units=").concat(a,"&APPID=").concat("9dc5f93120e9ec0a6c67c21372c9f72b"));case 9:return y=e.sent,(x=y.data.list.slice(0,10)).map(function(){var e=Object(u.a)(s.a.mark(function e(t){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b+86400<t.dt&&t.dt<w+86400?t.weather[0].icon=t.weather[0].icon.slice(0,-1)+"d":w<t.dt&&t.dt<b+86400?t.weather[0].icon=t.weather[0].icon.slice(0,-1)+"n":b<t.dt&&t.dt<w?t.weather[0].icon=t.weather[0].icon.slice(0,-1)+"d":w-86400<t.dt&&t.dt<b&&(t.weather[0].icon=t.weather[0].icon.slice(0,-1)+"n");case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),B(x),j="metric"===a?"M":"I",e.next=16,N.a.get("https://api.weatherbit.io/v2.0/forecast/daily?lat=".concat(n,"&lon=").concat(c,"&units=").concat(j,"&key=").concat("b14e2486633e40cfa189b684c35373f7"));case 16:O=e.sent,V(O.data.data),v(!1);case 19:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return c.a.createElement(m.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(p,{switchUnits:function(){r("metric"===a?"imperial":"metric")},switchLang:function(){g("en"===E?"ru":"en")},units:a,lang:E}),c.a.createElement("div",{className:"container"},c.a.createElement(h,{alert:k,lang:E}),c.a.createElement(d.a,{path:"/weather-app",render:function(e){return c.a.createElement(f,Object.assign({},e,{searchPlaces:X,clearSearch:Z,showClear:T.length>0&&"/weather-app"===window.location.pathname,setAlert:$,lang:E}))}}),c.a.createElement(d.c,null,c.a.createElement(d.a,{exact:!0,path:"/weather-app",render:function(e){return c.a.createElement(S,{selectPlace:ee,units:a,places:T,loading:y,lang:E})}}),c.a.createElement(d.a,{exact:!0,path:"/weather-app/current/:name",render:function(e){return c.a.createElement(j,Object.assign({},e,{getWeather:te,current:H,forecastToday:Y,forecast16:Q,loading:y,lang:E,units:a}))}}),c.a.createElement(d.a,{exact:!0,path:"/weather-app/about",render:function(e){return c.a.createElement(P,{lang:E})}})))))};a(71);l.a.render(c.a.createElement(A,null),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.3da690cd.chunk.js.map